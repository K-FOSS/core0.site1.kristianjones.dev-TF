---
# The url clients will connect to.
# Typically this will be a domain.
server_url: https://net.mylogin.space:443

# Address to listen to / bind to on the server
listen_addr: 0.0.0.0:8443

# Private key file which will be
# autogenerated if it's missing
private_key_path: private.key

derp:
  # Locally available DERP map files encoded in YAML
  paths:
    - /local/DERP.yaml

  # If enabled, a worker will be set up to periodically
  # refresh the given sources and update the derpmap
  # will be set up.
  auto_update_enabled: true

  # How often should we check for updates?
  update_frequency: 24h

# Disables the automatic check for updates on startup
disable_check_updates: true
ephemeral_node_inactivity_timeout: 30m

# # Postgres config
db_type: postgres
db_host: ${Database.Hostname}
db_port: ${Database.Port}
db_name: ${Database.Database}
db_user: ${Database.Username}
db_pass: ${Database.Password}

tls_cert_path: ""
tls_key_path: ""

log_level: info

# Path to a file containg ACL policies.
acl_policy_path: ""

dns_config:
  # Upstream DNS servers
  nameservers:
    - 10.1.1.53
    - 10.1.1.10
    - 10.1.1.13
  domains: []

  magic_dns: true
  base_domain: example.com

# headscale supports experimental OpenID connect support,
# it is still being tested and might have some bugs, please
# help us test it.
# OpenID Connect
oidc:
  issuer: "https://your-oidc.issuer.com/path"
  client_id: '${OpenID.ClientID}'
  client_secret: '${OpenID.ClientSecret}'

  # Domain map is used to map incomming users (by their email) to
  # a namespace. The key can be a string, or regex.
  domain_map:
    ".*": default-namespace